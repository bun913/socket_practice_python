# インプットした内容のメモ

斜体で描かれている文字は私のコメント・感想など

## IPv4とIPv6について

- IPv6はアドレス空間の拡張だけでなく、ルーティング処理を高速化することができる
- Ipv4ではアドレスに余裕がないのでネットワークの接続関係とアドレスの割り振りを整理することができない
  - IPv6ではアドレスの割り振りを合理的に行うことが課のぬになり、ルーティング処理を高速化できる
  - MACアドレスを利用して自動的にIPアドレスを決定する仕組みが導入されている
  - *早いっていうのは知っていたけどこういうことか。IP変換のオーバーヘッドとかが少ないってことなのか*

- CIDRブロック
  - `Classless Inter-Domain Routing` の略称
  - *略称しかしらなかった・・・なるほどクラスなしでネットワーク部とホスト部を分けるための仕組みって意味だったのか*

- IPv6ではブロードキャストが廃止され、エニーキャストが追加されている（内部的にはマルチキャストを利用）
  - エニーキャストを送るとそのIPアドレスと紐づいている機器のうち、一番近いところにある機器に届く
  - 集団内のどれか一つにパケットが届いたら終了
  - https://wa3.i-3-i.info/word15055.html

## ソケットとは

- TCP/IPによるネットワーキングプログラミングのための共通的で基本的なAPIのこと
  - TCP/IPのポートをそのまま実装した基本的かつ低レベルのAPI
- アプリケーションプログラムからソケットが作成される
  - ソケットだけでは何もできないので特定のポートに接続する
  - *これがローカルマシンなら同じファイルを参照できるのでUnixドメインソケットはこのファイル同士を共有するという仕組みかな*

![ソケット通信](/diagram/socket.svg)

- クライアント・サーバー間の通信
  - サーバー
    - サーバー側で空のソケットを作成
    - ソケットを作成する際にUDPを使うのか、TCPを使うのか指定
    - これで待ち受け状態とする
  - クライアント
    - サーバーが待ち受け状態となったため任意のタイミングで接続を要求
    - このためクライアント側でも空のソケットを作成
    - 作成した空のソケットにサーバーに関する情報を与えてサーバーと接続
  - サーバー
    - クライアントから接続要求があると通信に利用するソケットを新たに作成
    - 実際のデータやり取りはこの新しく作ったソケットで行う